{"version":3,"sources":["../../src/api/transactionSubmission/submit.ts"],"sourcesContent":["// Copyright Â© Aptos Foundation\n// SPDX-License-Identifier: Apache-2.0\n\nimport { submitTransaction } from \"../../internal/transactionSubmission\";\nimport { AccountAuthenticator, AnyRawTransaction } from \"../../transactions\";\nimport { PendingTransactionResponse } from \"../../types\";\nimport { AptosConfig } from \"../aptosConfig\";\nimport { ValidateFeePayerDataOnSubmission } from \"./helpers\";\n\n/**\n * A class to handle all `Submit` transaction operations.\n * @group Implementation\n */\nexport class Submit {\n  readonly config: AptosConfig;\n\n  /**\n   * Initializes a new instance of the Aptos client with the specified configuration.\n   * This allows you to interact with the Aptos blockchain using the provided settings.\n   *\n   * @param config - The configuration settings for the Aptos client.\n   * @param config.network - The network to connect to (e.g., TESTNET, MAINNET).\n   * @param config.nodeUrl - The URL of the Aptos node to connect to.\n   * @param config.faucetUrl - The URL of the faucet for obtaining test tokens.\n   *\n   * @example\n   * ```typescript\n   * import { Aptos, AptosConfig, Network } from \"@aptos-labs/ts-sdk\";\n   *\n   * async function runExample() {\n   *     // Create a configuration for the Aptos client\n   *     const config = new AptosConfig({\n   *         network: Network.TESTNET, // Use the TESTNET for testing\n   *         nodeUrl: \"https://testnet.aptos.dev\", // Specify the node URL\n   *         faucetUrl: \"https://faucet.testnet.aptos.dev\" // Specify the faucet URL\n   *     });\n   *\n   *     // Initialize the Aptos client with the configuration\n   *     const aptos = new Aptos(config);\n   *\n   *     console.log(\"Aptos client initialized:\", aptos);\n   * }\n   * runExample().catch(console.error);\n   * ```\n   * @group Implementation\n   */\n  constructor(config: AptosConfig) {\n    this.config = config;\n  }\n\n  /**\n   * Submits a transaction to the Aptos blockchain using the provided transaction details and authenticators.\n   * This function allows you to execute transactions securely by specifying the sender and optional fee payer authenticators.\n   *\n   * @param args - The arguments for submitting the transaction.\n   * @param args.transaction - The raw transaction data to be submitted.\n   * @param args.senderAuthenticator - The authenticator for the sender's account.\n   * @param [args.feePayerAuthenticator] - The optional authenticator for the fee payer's account.\n   *\n   * @example\n   * ```typescript\n   * import { Aptos, AptosConfig, Network, Account } from \"@aptos-labs/ts-sdk\";\n   *\n   * const config = new AptosConfig({ network: Network.TESTNET });\n   * const aptos = new Aptos(config);\n   *\n   * async function runExample() {\n   *   const sender = Account.generate(); // Generate a new sender account\n   *   const transaction = await aptos.transaction.build.simple({\n   *     sender: sender.accountAddress,\n   *     data: {\n   *       function: \"0x1::aptos_account::transfer\",\n   *       functionArguments: [Account.generate().accountAddress, 100], // Replace with a real destination account\n   *     },\n   *   });\n   *\n   *   // Submit the transaction\n   *   const response = await aptos.simple({\n   *     transaction,\n   *     senderAuthenticator: sender.getAuthenticator(), // Use the sender's authenticator\n   *   });\n   *\n   *   console.log(\"Transaction submitted:\", response);\n   * }\n   * runExample().catch(console.error);\n   * ```\n   * @group Implementation\n   */\n  @ValidateFeePayerDataOnSubmission\n  async simple(args: {\n    transaction: AnyRawTransaction;\n    senderAuthenticator: AccountAuthenticator;\n    feePayerAuthenticator?: AccountAuthenticator;\n  }): Promise<PendingTransactionResponse> {\n    return submitTransaction({ aptosConfig: this.config, ...args });\n  }\n\n  /**\n   * Submits a multi-agent transaction to the Aptos network, allowing multiple signers to authorize the transaction.\n   * This function is useful for scenarios where a transaction requires approval from multiple accounts.\n   *\n   * @param args - The parameters for the multi-agent transaction.\n   * @param args.transaction - The raw transaction to be submitted.\n   * @param args.senderAuthenticator - The authenticator for the sender account.\n   * @param args.additionalSignersAuthenticators - An array of authenticators for additional signers.\n   * @param [args.feePayerAuthenticator] - An optional authenticator for the fee payer account.\n   *\n   * @example\n   * ```typescript\n   * import { Aptos, AptosConfig, Network, Account } from \"@aptos-labs/ts-sdk\";\n   *\n   * const config = new AptosConfig({ network: Network.TESTNET });\n   * const aptos = new Aptos(config);\n   *\n   * async function runExample() {\n   *   const sender = Account.generate(); // Generate a new sender account\n   *   const additionalSigner1 = Account.generate(); // Generate an additional signer account\n   *   const additionalSigner2 = Account.generate(); // Generate another additional signer account\n   *\n   *   const transaction = await aptos.transaction.build.simple({\n   *     sender: sender.accountAddress,\n   *     data: {\n   *       function: \"0x1::aptos_account::transfer\",\n   *       functionArguments: [additionalSigner1.accountAddress, 100],\n   *     },\n   *   });\n   *\n   *   const response = await aptos.multiAgent({\n   *     transaction,\n   *     senderAuthenticator: sender.getAuthenticator(), // Use the sender's authenticator\n   *     additionalSignersAuthenticators: [\n   *       additionalSigner1.getAuthenticator(), // Use the first additional signer's authenticator\n   *       additionalSigner2.getAuthenticator(), // Use the second additional signer's authenticator\n   *     ],\n   *   });\n   *\n   *   console.log(response); // Log the response from the transaction submission\n   * }\n   * runExample().catch(console.error);\n   * ```\n   * @group Implementation\n   */\n  @ValidateFeePayerDataOnSubmission\n  async multiAgent(args: {\n    transaction: AnyRawTransaction;\n    senderAuthenticator: AccountAuthenticator;\n    additionalSignersAuthenticators: Array<AccountAuthenticator>;\n    feePayerAuthenticator?: AccountAuthenticator;\n  }): Promise<PendingTransactionResponse> {\n    return submitTransaction({ aptosConfig: this.config, ...args });\n  }\n}\n"],"mappings":"2HAaO,IAAMA,EAAN,KAAa,CAiClB,YAAYC,EAAqB,CAC/B,KAAK,OAASA,CAChB,CAyCA,MAAM,OAAOC,EAI2B,CACtC,OAAOC,EAAkB,CAAE,YAAa,KAAK,OAAQ,GAAGD,CAAK,CAAC,CAChE,CAgDA,MAAM,WAAWA,EAKuB,CACtC,OAAOC,EAAkB,CAAE,YAAa,KAAK,OAAQ,GAAGD,CAAK,CAAC,CAChE,CACF,EA9DQE,EAAA,CADLC,GA3EUL,EA4EL,sBAsDAI,EAAA,CADLC,GAjIUL,EAkIL","names":["Submit","config","args","submitTransaction","__decorateClass","ValidateFeePayerDataOnSubmission"]}